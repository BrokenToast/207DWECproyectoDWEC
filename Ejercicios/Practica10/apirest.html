<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p></p>
    <script>
        async function popDeCadaUsuario(persona) {
            let perfil=document.createElement("div");
            perfil.classList.add("perfiles");
            perfil.innerHTML=`<p>Nombre${persona['name']['title']}</p><p>Apellidos:${persona['name']['first']} ${persona['name']['last']}</p><p>${persona['email']}</p><p>${persona['phone']}</p>`;
            console.log(persona['picture']['medium']);

            let img=document.createElement("img");
            img.setAttribute("src", persona['picture']['medium']);
            perfil.appendChild(img);
            document.body.appendChild(perfil);
        }

        fetch("https://randomuser.me/api/?results=10")
        .then(resultado=>resultado.json())
        .then(datosJson=>{
            for (const persona of datosJson['results']) {
                popDeCadaUsuario(persona);
            }
        })
        .catch(error=> alert("A ocurrido un error"))
    </script>
</body>
</html>
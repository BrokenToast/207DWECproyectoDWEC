<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let altura=4;
        let ancho=4;
        var aTablero=[];
        for (let y = 0; y < altura; y++) {
            let fila=[]
            for (let x = 0; x < ancho; x++) {
                fila.push(null);
            }
            aTablero.push(fila);
        }
        function posicionRandom(imagen) {
            do{
                var y=parseInt(Math.random()*altura);
                var x=parseInt(Math.random()*ancho);
            }while(aTablero[y][x]!=null);
            aTablero[y][x]=imagen;
        }
        function createTable() {
            for (let pareja = 0; pareja < 8; pareja++) {
                for (let carta = 0; carta < 2; carta++) {
                    posicionRandom(aImagenes[pareja]);
                }
            }
        }
        function pintar() {
            let table=document.createElement("table");
            for (const x of aTablero) {
                let fila=document.createElement("tr");
                for (const element of x) {
                    let casilla=document.createElement("td");
                    casilla.innerHTML=`<img src="${element}">`;
                    fila.appendChild(casilla);
                }
                table.appendChild(fila);
            }
            document.body.appendChild(table);
        }
        let aImagenes=[];
        fetch("https://randomuser.me/api/?results=8")
        .then(resultado=>resultado.json())
        .then(datosJson=>{
            for (const persona of datosJson['results']) {
                aImagenes.push(persona['picture']['medium']);
            }
            createTable();
            console.log(aTablero);
            pintar();
        })
        // .catch(error=> alert("A ocurrido un erro"));
    </script>
</body>
</html>